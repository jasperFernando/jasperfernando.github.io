console.clear();let e={x:0,y:0},t=e,r={x:t.x-e.x,y:t.y-e.y},o=[];class i{constructor(e){this.el=e,this.menuItems=this.el.querySelectorAll(".menu__item"),this.animatableProperties={tx:{previous:0,current:0,amt:.1},ty:{previous:0,current:0,amt:.1},rotation:{previous:0,current:0,amt:.08},skewx:{previous:0,current:0,amt:.08},brightness:{previous:1,current:1,amt:.08},saturation:{previous:0,current:0,amt:.1}},this.menuItemInstances=[],[...this.menuItems].forEach(((e,t)=>this.menuItemInstances.push(new s(e,t,this.animatableProperties)))),gsap.to(this.el,.1,{opacity:1}),this.showMenuItems()}showMenuItems(){gsap.fromTo(this.menuItemInstances.map((e=>e.DOM.innerText)),{rotation:e=>e%2==0?15:-15},{duration:1.2,ease:"Expo.easeOut",transformOrigin:e=>e%2==0?"left bottom":"right bottom",y:0,rotation:0,delay:e=>.15+.06*e})}}class s{constructor(e,t,r){this.DOM={el:e},this.DOM.innerText=this.DOM.el.querySelector(".menu__item-innertext"),this.menuItemIndex=t,this.animatableProps=r,this.imageURL=this.DOM.el.getAttribute("data-img"),this.layout(),this.initEvents()}layout(){this.DOM.card=document.createElement("div"),this.DOM.card.className="image-card",this.DOM.cardInner=document.createElement("div"),this.DOM.cardInner.className="image-card__inner",this.DOM.cardImage=document.createElement("div"),this.DOM.cardImage.className="image-card__img",this.DOM.cardImage.style.backgroundImage=`url(${this.imageURL})`,this.DOM.cardInner.appendChild(this.DOM.cardImage),this.DOM.card.appendChild(this.DOM.cardInner),this.DOM.el.appendChild(this.DOM.card)}initEvents(){this.DOM.el.addEventListener("mouseenter",(()=>{this.showImage(),this.firstRAFCycle=!0,this.renderLoop()})),this.DOM.el.addEventListener("mouseleave",(()=>{this.stopRender(),this.hideImage()}))}calcBounds(){this.bounds={el:this.DOM.el.getBoundingClientRect(),card:this.DOM.card.getBoundingClientRect(),cardImage:this.DOM.cardImage.getBoundingClientRect()}}showImage(){gsap.killTweensOf(this.DOM.cardInner),gsap.killTweensOf(this.DOM.cardImage),gsap.timeline({onStart:()=>{this.DOM.el.style.zIndex=this.DOM.el.children.length}}).to(this.DOM.cardInner,{duration:.8,ease:"elastic.out(1, 0.75)",transformOrigin:"50% "+(r.y<0?"-20%":"120%"),startAt:{rotation:(r.x<0?"+":"-")+"25deg"},rotation:0}).to(this.DOM.cardImage,{duration:.2,ease:"Sine.easeOut",startAt:{opacity:0,scale:.6},opacity:1,scale:1},0)}hideImage(){gsap.killTweensOf(this.DOM.cardInner),gsap.killTweensOf(this.DOM.cardImage),gsap.timeline({onStart:()=>{this.DOM.el.style.zIndex=1}}).to(this.DOM.cardInner,{duration:.8,ease:"elastic.out(1, 0.75)",transformOrigin:"50% "+(r.y<0?"-20%":"120%"),rotation:(r.x<0?"+":"-")+"25deg"}).to(this.DOM.cardImage,{duration:.2,ease:"Sine.easeOut",opacity:0,scale:.6},0)}renderLoop(){this.requestId||(this.requestId=requestAnimationFrame((()=>this.render())))}stopRender(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)}render(){this.requestId=void 0,this.firstRAFCycle&&this.calcBounds(),this.updateAnimatableProps(),r={x:t.x-e.x,y:t.y-e.y},t=e,gsap.set(this.DOM.card,{x:this.animatableProps.tx.previous,y:this.animatableProps.ty.previous,rotation:this.animatableProps.rotation.previous,skewX:this.animatableProps.skewx.previous,filter:`brightness(${this.animatableProps.brightness.previous}) saturate(${this.animatableProps.saturation.previous})`}),this.firstRAFCycle=!1,this.renderLoop()}updateAnimatableProps(){const o=(i=Math.abs(t.x-e.x),a=100,i<=(s=0)?s:i>=a?a:i);var i,s,a,l,c,d;this.animatableProps.tx.current=Math.abs(e.x-this.bounds.el.left)-this.bounds.card.width/2,this.animatableProps.ty.current=Math.abs(e.y-this.bounds.el.top)-this.bounds.card.height/2,this.animatableProps.rotation.current=this.firstRAFCycle?0:n(o,0,100,0,r.x<0?30:-30),this.animatableProps.skewx.current=this.firstRAFCycle?0:n(o,0,100,1,r.x<0?-60:60),this.animatableProps.brightness.current=this.firstRAFCycle?1:n(o,0,100,1,10),this.animatableProps.saturation.current=this.firstRAFCycle?1:n(o,0,100,1,8);for(const e in this.animatableProps)this.animatableProps[e].previous=this.firstRAFCycle?this.animatableProps[e].current:(l=this.animatableProps[e].previous,c=this.animatableProps[e].current,(1-(d=this.animatableProps[e].amt))*l+d*c)}}class a{constructor(e,t){this.el=e,this.duration=t,this.el.style.opacity=0,this.bounds=this.el.getBoundingClientRect()}update(){gsap.to(this.el,{duration:this.duration,opacity:1,x:e.x-this.bounds.width/2,y:e.y-this.bounds.height/2})}}function n(e,t,r,o,i){return(e-t)*(i-o)/(r-t)+o}new class{constructor(){var t;(t=".menu__item",new Promise((e=>{const r=document.createElement("div");r.style.visibility="hidden",document.body.appendChild(r),[...document.querySelectorAll(t)].forEach((e=>{const t=document.createElement("img");t.style.width=0,t.src=e.dataset.img,t.className="preload",r.appendChild(t)})),imagesLoaded(document.querySelectorAll(".preload"),(()=>{gsap.to(".loading__wrapper",{duration:.8,opacity:0,pointerEvents:"none",onComplete:()=>{r.parentNode.removeChild(r),document.body.classList.remove("loading"),e()}})}))}))).then((()=>{Splitting();const t=document.querySelector(".menu");new LocomotiveScroll({el:t,smooth:!0}),new i(t),o.push(new a(document.querySelector(".cursor__small"),0),new a(document.querySelector(".cursor__large"),.4)),window.addEventListener("mousemove",(t=>{e=function(e){let t=0,r=0;e||(e=window.event);e.pageX||e.pageY?(t=e.pageX,r=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+body.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+body.scrollTop+document.documentElement.scrollTop);return{x:t,y:r}}(t),o.forEach((e=>{e.update()}))}))}))}},document.querySelector(".scrollContainer");const l=new LocomotiveScroll({el:document.querySelector(".scrollContainer"),smooth:!0,inertia:.8,getDirection:!0,mobile:{breakpoint:0,smooth:!0,getDirection:!0},tablet:{breakpoint:0,smooth:!0,getDirection:!0}});l.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy(".scrollContainer",{scrollTop(e){return arguments.length?l.scrollTo(e,0,0):l.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector(".scrollContainer").style.transform?"transform":"fixed"}),gsap.timeline({defaults:{duration:1}}).to(".htanim",{opacity:1,y:-50,ease:"Power2.easeInOut",stagger:.2}).to(".herowrk",{opacity:1,y:-20,ease:"Power2.easeInOut"},"-=.5").fromTo(".imgg",{opacity:0,x:150,ease:"Power2.easeInOut"},{opacity:1,x:-74,ease:"Expo.easeOut"},"-=.5").fromTo(".imggg",{opacity:0,x:150,ease:"Power2.easeInOut"},{opacity:1,x:-14,ease:"Expo.easeOut"},"-=.5").fromTo(".header",{opacity:0,y:-20,ease:"Power5"},{opacity:1,y:0,ease:"Power5"},"-=1.4");let c=gsap.timeline({defaults:{}}).fromTo(".worktitle, .char",{y:-50,opacity:0,duration:1},{y:0,opacity:1,ease:"Power1.easeInOut"}).fromTo(".word",{y:-50,opacity:0,duration:1},{y:0,opacity:1,ease:"slow.easeOut",stagger:.05},"-=1").fromTo(".tools",{y:-50,opacity:0,duration:1},{y:0,opacity:1,ease:"slow.easeOut",stagger:.05},"-=1").fromTo(".icons",{y:150,opacity:0,duration:1},{y:0,opacity:1,ease:"slow.easeOut",stagger:.05},"-=.5");ScrollTrigger.create({trigger:".worktitle, .word, .tools, .icons, .madetools",start:"top bottom",end:"+=300",scroller:".scrollContainer",animation:c});let d=gsap.timeline({defaults:{}}).fromTo(".madetools",{y:150,opacity:0,duration:1},{y:0,opacity:1,ease:"slow.easeOut",stagger:.05},"1").to(".proimg",{opacity:1,duration:1});ScrollTrigger.create({trigger:".madetools, .proimg",start:"top bottom",end:"+=300",scroller:".scrollContainer",animation:d});let u=gsap.timeline({defaults:{}}).fromTo("body, header",{backgroundColor:"#861F3E"},{backgroundColor:"#17171F",ease:"Power2.easeInOut"});ScrollTrigger.create({trigger:".workflow",start:"center top",end:"+=300",toggleActions:"restart pause play reverse",scroller:".scrollContainer",animation:u});let m=gsap.timeline({defaults:{}}).fromTo(".pin-wrap",{y:-180,opacity:0},{y:0,opacity:1,duration:5,ease:"slow.easeInOut"});ScrollTrigger.create({trigger:".pin-wrap",start:"center top",toggleActions:"restart play reverse",end:"+=300",scroller:".scrollContainer",animation:m}),window.addEventListener("load",(function(){document.querySelectorAll(".pin-wrap > *");let e=document.querySelector(".pin-wrap").offsetWidth,t=e-window.innerWidth;gsap.to(".pin-wrap",{scrollTrigger:{scroller:".scrollContainer",scrub:!0,trigger:"#sectionPin",pin:!0,start:"top top",end:e},duration:1,x:-t,ease:"none"}),ScrollTrigger.addEventListener("refresh",(()=>l.update())),ScrollTrigger.refresh()}));
//# sourceMappingURL=index.845f80bc.js.map
