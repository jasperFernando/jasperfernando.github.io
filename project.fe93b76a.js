function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequire94c2;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequire94c2=i);var o,s,a=i("jc9BL"),u=i("fapoc"),c={};o=c,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,r){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&o(i,r.prototype),i}).apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)})(e)}function u(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var c,h;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),(h=c||(c={}))[h.off=0]="off",h[h.error=1]="error",h[h.warning=2]="warning",h[h.info=3]="info",h[h.debug=4]="debug";var l=c.off,f=function(){function e(e){this.t=e}e.getLevel=function(){return l},e.setLevel=function(e){return l=c[e]};var t=e.prototype;return t.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.error,c.error,t)},t.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.warn,c.warning,t)},t.info=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.info,c.info,t)},t.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.log,c.debug,t)},t.i=function(t,r,n){r<=e.getLevel()&&t.apply(console,["["+this.t+"] "].concat(n))},e}(),p=M,d=w,m=b,v=x,g=k,y=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function b(e,t){for(var r,n=[],i=0,o=0,s="",a=t&&t.delimiter||"/",u=t&&t.whitelist||void 0,c=!1;null!==(r=y.exec(e));){var h=r[0],l=r[1],f=r.index;if(s+=e.slice(o,f),o=f+h.length,l)s+=l[1],c=!0;else{var p="",d=r[2],m=r[3],v=r[4],g=r[5];if(!c&&s.length){var b=s.length-1,w=s[b];(!u||u.indexOf(w)>-1)&&(p=w,s=s.slice(0,b))}s&&(n.push(s),s="",c=!1);var x=m||v,O=p||a;n.push({name:d||i++,prefix:p,delimiter:O,optional:"?"===g||"*"===g,repeat:"+"===g||"*"===g,pattern:x?E(x):"[^"+P(O===a?O:O+a)+"]+?"})}}return(s||o<e.length)&&n.push(s+e.substr(o)),n}function w(e,t){return function(r,n){var i=e.exec(r);if(!i)return!1;for(var o=i[0],s=i.index,a={},u=n&&n.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var h=t[c-1];a[h.name]=h.repeat?i[c].split(h.delimiter).map((function(e){return u(e,h)})):u(i[c],h)}return{path:o,index:s,params:a}}}function x(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",O(t)));return function(t,n){for(var i="",o=n&&n.encode||encodeURIComponent,s=!n||!1!==n.validate,a=0;a<e.length;a++){var u=e[a];if("string"!=typeof u){var c,h=t?t[u.name]:void 0;if(Array.isArray(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var l=0;l<h.length;l++){if(c=o(h[l],u),s&&!r[a].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');i+=(0===l?u.prefix:u.delimiter)+c}}else if("string"!=typeof h&&"number"!=typeof h&&"boolean"!=typeof h){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}else{if(c=o(String(h),u),s&&!r[a].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function P(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function E(e){return e.replace(/([=!:$/()])/g,"\\$1")}function O(e){return e&&e.sensitive?"":"i"}function k(e,t,r){for(var n=(r=r||{}).strict,i=!1!==r.start,o=!1!==r.end,s=r.delimiter||"/",a=[].concat(r.endsWith||[]).map(P).concat("$").join("|"),u=i?"^":"",c=0;c<e.length;c++){var h=e[c];if("string"==typeof h)u+=P(h);else{var l=h.repeat?"(?:"+h.pattern+")(?:"+P(h.delimiter)+"(?:"+h.pattern+"))*":h.pattern;t&&t.push(h),u+=h.optional?h.prefix?"(?:"+P(h.prefix)+"("+l+"))?":"("+l+")?":P(h.prefix)+"("+l+")"}}if(o)n||(u+="(?:"+P(s)+")?"),u+="$"===a?"$":"(?="+a+")";else{var f=e[e.length-1],p="string"==typeof f?f[f.length-1]===s:void 0===f;n||(u+="(?:"+P(s)+"(?="+a+"))?"),p||(u+="(?="+P(s)+"|"+a+")")}return new RegExp(u,O(r))}function M(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(M(e[i],t,r).source);return new RegExp("(?:"+n.join("|")+")",O(r))}(e,t,r):function(e,t,r){return k(b(e,r),t,r)}(e,t,r)}p.match=function(e,t){var r=[];return w(M(e,r,t),r)},p.regexpToFunction=d,p.parse=m,p.compile=function(e,t){return x(b(e,t),t)},p.tokensToFunction=v,p.tokensToRegExp=g;var A={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},R=new(function(){function e(){this.o=A,this.u=new DOMParser}var t=e.prototype;return t.toString=function(e){return e.outerHTML},t.toDocument=function(e){return this.u.parseFromString(e,"text/html")},t.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},t.getHtml=function(e){return void 0===e&&(e=document),this.toString(e.documentElement)},t.getWrapper=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},t.getContainer=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},t.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},t.addContainer=function(e,t){var r=this.getContainer();r?this.s(e,r):t.appendChild(e)},t.getNamespace=function(e){void 0===e&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},t.getHref=function(e){if(e.tagName&&"a"===e.tagName.toLowerCase()){if("string"==typeof e.href)return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},t.resolveUrl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length;if(0===n)throw new Error("resolveUrl requires at least one argument; got none.");var i=document.createElement("base");if(i.href=arguments[0],1===n)return i.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);for(var s,a=document.createElement("a"),u=1;u<n;u++)a.href=arguments[u],i.href=s=a.href;return o.removeChild(i),s},t.s=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},e}()),I=new(function(){function e(){this.h=[],this.v=-1}var n=e.prototype;return n.init=function(e,t){this.l="barba";var r={ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(r),this.v=0;var n={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(n,"",e)},n.change=function(e,t,r){if(r&&r.state){var n=r.state,i=n.index;t=this.m(this.v-i),this.replace(n.states),this.v=i}else this.add(e,t);return t},n.add=function(e,t){var r=this.size,n=this.p(t),i={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=r;var o={from:this.l,index:r,states:[].concat(this.h)};switch(n){case"push":window.history&&window.history.pushState(o,"",e);break;case"replace":window.history&&window.history.replaceState(o,"",e)}},n.update=function(e,t){var n=t||this.v,i=r({},this.get(n),{},e);this.set(n,i)},n.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},n.clear=function(){this.h=[],this.v=-1},n.replace=function(e){this.h=e},n.get=function(e){return this.h[e]},n.set=function(e,t){return this.h[e]=t},n.p=function(e){var t="push",r=e,n=A.prefix+"-"+A.history;return r.hasAttribute&&r.hasAttribute(n)&&(t=r.getAttribute(n)),t},n.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":0===e?"popstate":e>0?"back":"forward"},t(e,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),e}()),S=function(e,t){try{var r=function(){if(!t.next.html)return Promise.resolve(e).then((function(e){var r=t.next;if(e){var n=R.toElement(e);r.namespace=R.getNamespace(n),r.container=R.getContainer(n),r.html=e,I.update({ns:r.namespace});var i=R.toDocument(e);document.title=i.title}}))}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},D=p,j={__proto__:null,update:S,nextTick:function(){return new Promise((function(e){window.requestAnimationFrame(e)}))},pathToRegexp:D},q=function(){return window.location.origin},_=function(e){return void 0===e&&(e=window.location.href),L(e).port},L=function(e){var t,r=e.match(/:\d+/);if(null===r)/^http/.test(e)&&(t=80),/^https/.test(e)&&(t=443);else{var n=r[0].substring(1);t=parseInt(n,10)}var i,o=e.replace(q(),""),s={},a=o.indexOf("#");a>=0&&(i=o.slice(a+1),o=o.slice(0,a));var u=o.indexOf("?");return u>=0&&(s=T(o.slice(u+1)),o=o.slice(0,u)),{hash:i,path:o,port:t,query:s}},T=function(e){return e.split("&").reduce((function(e,t){var r=t.split("=");return e[r[0]]=r[1],e}),{})},C=function(e){return void 0===e&&(e=window.location.href),e.replace(/(\/#.*|\/|#.*)$/,"")},N={__proto__:null,getHref:function(){return window.location.href},getOrigin:q,getPort:_,getPath:function(e){return void 0===e&&(e=window.location.href),L(e).path},parse:L,parseQuery:T,clean:C};function B(e,t,r){return void 0===t&&(t=2e3),new Promise((function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)n(o.responseText);else if(o.status){var t={status:o.status,statusText:o.statusText};r(e,t),i(t)}},o.ontimeout=function(){var n=new Error("Timeout error ["+t+"]");r(e,n),i(n)},o.onerror=function(){var t=new Error("Fetch error");r(e,t),i(t)},o.open("GET",e),o.timeout=t,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var F=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then};function H(e,t){return void 0===t&&(t={}),function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=!1,s=new Promise((function(r,i){t.async=function(){return o=!0,function(e,t){e?i(e):r(t)}};var s=e.apply(t,n);o||(F(s)?s.then(r,i):r(s))}));return s}}var U=new(function(e){function t(){var t;return(t=e.call(this)||this).logger=new f("@barba/core"),t.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],t.registered=new Map,t.init(),t}n(t,e);var r=t.prototype;return r.init=function(){var e=this;this.registered.clear(),this.all.forEach((function(t){e[t]||(e[t]=function(r,n){e.registered.has(t)||e.registered.set(t,new Set),e.registered.get(t).add({ctx:n||{},fn:r})})}))},r.do=function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(this.registered.has(e)){var o=Promise.resolve();return this.registered.get(e).forEach((function(e){o=o.then((function(){return H(e.fn,e.ctx).apply(void 0,n)}))})),o.catch((function(r){t.logger.debug("Hook error ["+e+"]"),t.logger.error(r)}))}return Promise.resolve()},r.clear=function(){var e=this;this.all.forEach((function(t){delete e[t]})),this.init()},r.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var e=[];this.registered.forEach((function(t,r){return e.push(r)})),this.logger.info("Registered hooks: "+e.join(","))},t}((function(){}))),$=function(){function e(e){if(this.P=[],"boolean"==typeof e)this.g=e;else{var t=Array.isArray(e)?e:[e];this.P=t.map((function(e){return D(e)}))}}return e.prototype.checkHref=function(e){if("boolean"==typeof this.g)return this.g;var t=L(e).path;return this.P.some((function(e){return null!==e.exec(t)}))},e}(),X=function(e){function t(t){var r;return(r=e.call(this,t)||this).k=new Map,r}n(t,e);var i=t.prototype;return i.set=function(e,t,r){return this.k.set(e,{action:r,request:t}),{action:r,request:t}},i.get=function(e){return this.k.get(e)},i.getRequest=function(e){return this.k.get(e).request},i.getAction=function(e){return this.k.get(e).action},i.has=function(e){return!this.checkHref(e)&&this.k.has(e)},i.delete=function(e){return this.k.delete(e)},i.update=function(e,t){var n=r({},this.k.get(e),{},t);return this.k.set(e,n),n},t}($),Y=function(){return!window.history.pushState},W=function(e){return!e.el||!e.href},z=function(e){var t=e.event;return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},K=function(e){var t=e.el;return t.hasAttribute("target")&&"_blank"===t.target},G=function(e){var t=e.el;return void 0!==t.protocol&&window.location.protocol!==t.protocol||void 0!==t.hostname&&window.location.hostname!==t.hostname},Q=function(e){var t=e.el;return void 0!==t.port&&_()!==_(t.href)},V=function(e){var t=e.el;return t.getAttribute&&"string"==typeof t.getAttribute("download")},J=function(e){return e.el.hasAttribute(A.prefix+"-"+A.prevent)},Z=function(e){return Boolean(e.el.closest("["+A.prefix+"-"+A.prevent+'="all"]'))},ee=function(e){var t=e.href;return C(t)===C()&&_(t)===_()},te=function(e){function t(t){var r;return(r=e.call(this,t)||this).suite=[],r.tests=new Map,r.init(),r}n(t,e);var r=t.prototype;return r.init=function(){this.add("pushState",Y),this.add("exists",W),this.add("newTab",z),this.add("blank",K),this.add("corsDomain",G),this.add("corsPort",Q),this.add("download",V),this.add("preventSelf",J),this.add("preventAll",Z),this.add("sameUrl",ee,!1)},r.add=function(e,t,r){void 0===r&&(r=!0),this.tests.set(e,t),r&&this.suite.push(e)},r.run=function(e,t,r,n){return this.tests.get(e)({el:t,event:r,href:n})},r.checkLink=function(e,t,r){var n=this;return this.suite.some((function(i){return n.run(i,e,t,r)}))},t}($),re=function(e){function t(r,n){var i;void 0===n&&(n="Barba error");for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];return(i=e.call.apply(e,[this].concat(s))||this).error=r,i.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),t),i.name="BarbaError",i}return n(t,e),t}(a(Error)),ne=function(){function e(e){void 0===e&&(e=[]),this.logger=new f("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var t=e.prototype;return t.add=function(e,t){"rule"===e?this.A.splice(t.position||0,0,t.value):this.all.push(t),this.update()},t.resolve=function(e,t){var r=this;void 0===t&&(t={});var n=t.once?this.once:this.page;n=n.filter(t.self?function(e){return e.name&&"self"===e.name}:function(e){return!e.name||"self"!==e.name});var i=new Map,o=n.find((function(n){var o=!0,s={};return!(!t.self||"self"!==n.name)||(r.A.reverse().forEach((function(t){o&&(o=r.R(n,t,e,s),n.from&&n.to&&(o=r.R(n,t,e,s,"from")&&r.R(n,t,e,s,"to")),n.from&&!n.to&&(o=r.R(n,t,e,s,"from")),!n.from&&n.to&&(o=r.R(n,t,e,s,"to")))})),i.set(n,s),o)})),s=i.get(o),a=[];if(a.push(t.once?"once":"page"),t.self&&a.push("self"),s){var u,c=[o];Object.keys(s).length>0&&c.push(s),(u=this.logger).info.apply(u,["Transition found ["+a.join(",")+"]"].concat(c))}else this.logger.info("No transition found ["+a.join(",")+"]");return o},t.update=function(){var e=this;this.all=this.all.map((function(t){return e.T(t)})).sort((function(e,t){return e.priority-t.priority})).reverse().map((function(e){return delete e.priority,e})),this.page=this.all.filter((function(e){return void 0!==e.leave||void 0!==e.enter})),this.once=this.all.filter((function(e){return void 0!==e.once}))},t.R=function(e,t,r,n,i){var o=!0,s=!1,a=e,u=t.name,c=u,h=u,l=u,f=i?a[i]:a,p="to"===i?r.next:r.current;if(i?f&&f[u]:f[u]){switch(t.type){case"strings":default:var d=Array.isArray(f[c])?f[c]:[f[c]];p[c]&&-1!==d.indexOf(p[c])&&(s=!0),-1===d.indexOf(p[c])&&(o=!1);break;case"object":var m=Array.isArray(f[h])?f[h]:[f[h]];p[h]?(p[h].name&&-1!==m.indexOf(p[h].name)&&(s=!0),-1===m.indexOf(p[h].name)&&(o=!1)):o=!1;break;case"function":f[l](r)?s=!0:o=!1}s&&(i?(n[i]=n[i]||{},n[i][u]=a[i][u]):n[u]=a[u])}return o},t.O=function(e,t,r){var n=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(n+=Math.pow(10,r),e.from&&e.from[t]&&(n+=1),e.to&&e.to[t]&&(n+=2)),n},t.T=function(e){var t=this;e.priority=0;var r=0;return this.A.forEach((function(n,i){r+=t.O(e,n.name,i+1)})),e.priority=r,e},e}(),ie=function(){function e(e){void 0===e&&(e=[]),this.logger=new f("@barba/core"),this.S=!1,this.store=new ne(e)}var r=e.prototype;return r.get=function(e,t){return this.store.resolve(e,t)},r.doOnce=function(e){var t=e.data,r=e.transition;try{var n=function(){i.S=!1},i=this,o=r||{};i.S=!0;var s=u((function(){return Promise.resolve(i.j("beforeOnce",t,o)).then((function(){return Promise.resolve(i.once(t,o)).then((function(){return Promise.resolve(i.j("afterOnce",t,o)).then((function(){}))}))}))}),(function(e){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(e)}));return Promise.resolve(s&&s.then?s.then(n):n())}catch(e){return Promise.reject(e)}},r.doPage=function(e){var t=e.data,r=e.transition,n=e.page,i=e.wrapper;try{var o=function(e){if(s)return e;a.S=!1},s=!1,a=this,c=r||{},h=!0===c.sync||!1;a.S=!0;var l=u((function(){function e(){return Promise.resolve(a.j("before",t,c)).then((function(){function e(e){return Promise.resolve(a.remove(t)).then((function(){return Promise.resolve(a.j("after",t,c)).then((function(){}))}))}var r=function(){if(h)return u((function(){return Promise.resolve(a.add(t,i)).then((function(){return Promise.resolve(a.j("beforeLeave",t,c)).then((function(){return Promise.resolve(a.j("beforeEnter",t,c)).then((function(){return Promise.resolve(Promise.all([a.leave(t,c),a.enter(t,c)])).then((function(){return Promise.resolve(a.j("afterLeave",t,c)).then((function(){return Promise.resolve(a.j("afterEnter",t,c)).then((function(){}))}))}))}))}))}))}),(function(e){if(a.M(e))throw new re(e,"Transition error [sync]")}));var e=function(e){return u((function(){var e=function(){if(!1!==r)return Promise.resolve(a.add(t,i)).then((function(){return Promise.resolve(a.j("beforeEnter",t,c)).then((function(){return Promise.resolve(a.enter(t,c,r)).then((function(){return Promise.resolve(a.j("afterEnter",t,c)).then((function(){}))}))}))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){if(a.M(e))throw new re(e,"Transition error [before/after/enter]")}))},r=!1,o=u((function(){return Promise.resolve(a.j("beforeLeave",t,c)).then((function(){return Promise.resolve(Promise.all([a.leave(t,c),S(n,t)]).then((function(e){return e[0]}))).then((function(e){return r=e,Promise.resolve(a.j("afterLeave",t,c)).then((function(){}))}))}))}),(function(e){if(a.M(e))throw new re(e,"Transition error [before/after/leave]")}));return o&&o.then?o.then(e):e()}();return r&&r.then?r.then(e):e()}))}var r=function(){if(h)return Promise.resolve(S(n,t)).then((function(){}))}();return r&&r.then?r.then(e):e()}),(function(e){if(a.S=!1,e.name&&"BarbaError"===e.name)throw a.logger.debug(e.label),a.logger.error(e.error),e;throw a.logger.debug("Transition error [page]"),a.logger.error(e),e}));return Promise.resolve(l&&l.then?l.then(o):o(l))}catch(e){return Promise.reject(e)}},r.once=function(e,t){try{return Promise.resolve(U.do("once",e,t)).then((function(){return t.once?H(t.once,t)(e):Promise.resolve()}))}catch(e){return Promise.reject(e)}},r.leave=function(e,t){try{return Promise.resolve(U.do("leave",e,t)).then((function(){return t.leave?H(t.leave,t)(e):Promise.resolve()}))}catch(e){return Promise.reject(e)}},r.enter=function(e,t,r){try{return Promise.resolve(U.do("enter",e,t)).then((function(){return t.enter?H(t.enter,t)(e,r):Promise.resolve()}))}catch(e){return Promise.reject(e)}},r.add=function(e,t){try{return R.addContainer(e.next.container,t),U.do("nextAdded",e),Promise.resolve()}catch(e){return Promise.reject(e)}},r.remove=function(e){try{return R.removeContainer(e.current.container),U.do("currentRemoved",e),Promise.resolve()}catch(e){return Promise.reject(e)}},r.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},r.j=function(e,t,r){try{return Promise.resolve(U.do(e,t,r)).then((function(){return r[e]?H(r[e],r)(t):Promise.resolve()}))}catch(e){return Promise.reject(e)}},t(e,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(e){return"self"===e.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(e){return e.to&&!e.to.route||e.sync}))}}]),e}(),oe=function(){function e(e){var t=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==e.length&&(e.forEach((function(e){t.byNamespace.set(e.namespace,e)})),this.names.forEach((function(e){U[e](t.L(e))})))}return e.prototype.L=function(e){var t=this;return function(r){var n=e.match(/enter/i)?r.next:r.current,i=t.byNamespace.get(n.namespace);return i&&i[e]?H(i[e],i)(r):Promise.resolve()}},e}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var se={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function e(){this.version="2.9.7",this.schemaPage=se,this.Logger=f,this.logger=new f("@barba/core"),this.plugins=[],this.hooks=U,this.dom=R,this.helpers=j,this.history=I,this.request=B,this.url=N}var n=e.prototype;return n.use=function(e,t){var r=this.plugins;r.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):"function"==typeof e.install?(e.install(this,t),r.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},n.init=function(e){var t=void 0===e?{}:e,n=t.transitions,i=void 0===n?[]:n,o=t.views,s=void 0===o?[]:o,a=t.schema,u=void 0===a?A:a,c=t.requestError,h=t.timeout,l=void 0===h?2e3:h,p=t.cacheIgnore,d=void 0!==p&&p,m=t.prefetchIgnore,v=void 0!==m&&m,g=t.preventRunning,y=void 0!==g&&g,b=t.prevent,w=void 0===b?null:b,x=t.debug,P=t.logLevel;if(f.setLevel(!0===(void 0!==x&&x)?"debug":void 0===P?"off":P),this.logger.info(this.version),Object.keys(u).forEach((function(e){A[e]&&(A[e]=u[e])})),this.$=c,this.timeout=l,this.cacheIgnore=d,this.prefetchIgnore=v,this.preventRunning=y,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var E=this.data.current;if(!E.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new X(d),this.prevent=new te(v),this.transitions=new ie(i),this.views=new oe(s),null!==w){if("function"!=typeof w)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",w)}this.history.init(E.url.href,E.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(e){return e.init()}));var O=this.data;O.trigger="barba",O.next=O.current,O.current=r({},this.schemaPage),this.hooks.do("ready",O),this.once(O),this.q()},n.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(e){window.location.assign(e)},n.go=function(e,t,r){var n;if(void 0===t&&(t="barba"),this.transitions.isRunning)this.force(e);else if(!(n="popstate"===t?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(e,t,r),r&&(r.stopPropagation(),r.preventDefault()),this.page(e,t,n)},n.once=function(e){try{var t=this;return Promise.resolve(t.hooks.do("beforeEnter",e)).then((function(){function r(){return Promise.resolve(t.hooks.do("afterEnter",e)).then((function(){}))}var n=function(){if(t.transitions.hasOnce){var r=t.transitions.get(e,{once:!0});return Promise.resolve(t.transitions.doOnce({transition:r,data:e})).then((function(){}))}}();return n&&n.then?n.then(r):r()}))}catch(e){return Promise.reject(e)}},n.page=function(e,t,n){try{var i=function(){var e=o.data;return Promise.resolve(o.hooks.do("page",e)).then((function(){var t=u((function(){var t=o.transitions.get(e,{once:!1,self:n});return Promise.resolve(o.transitions.doPage({data:e,page:s,transition:t,wrapper:o._})).then((function(){o.q()}))}),(function(){0===f.getLevel()&&o.force(e.current.url.href)}));if(t&&t.then)return t.then((function(){}))}))},o=this;o.data.next.url=r({href:e},o.url.parse(e)),o.data.trigger=t;var s=o.cache.has(e)?o.cache.update(e,{action:"click"}).request:o.cache.set(e,o.request(e,o.timeout,o.onRequestError.bind(o,t)),"click").request,a=function(){if(o.transitions.shouldWait)return Promise.resolve(S(s,o.data)).then((function(){}))}();return Promise.resolve(a&&a.then?a.then(i):i())}catch(e){return Promise.reject(e)}},n.onRequestError=function(e){this.transitions.isRunning=!1;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r[0],o=r[1],s=this.cache.getAction(i);return this.cache.delete(i),this.$,this.$(e,s,i,o),this.force(i),!1},n.prefetch=function(e){var t=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch((function(e){t.logger.error(e)})),"prefetch")},n.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},n.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},n.B=function(e){var t=this,r=this.I(e);if(r){var n=this.dom.getHref(r);this.prevent.checkHref(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,r)).catch((function(e){t.logger.error(e)})),"enter")}},n.U=function(e){var t=this.I(e);if(t)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(t),t,e)},n.D=function(e){this.go(this.url.getHref(),"popstate",e)},n.I=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},n.q=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:r({href:e},this.url.parse(e))};this.C={current:t,next:r({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},t(e,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),e}())},"object"==typeof c?c=s():"function"==typeof define&&define.amd?define(s):(o=o||self).barba=s();var h=i("iM8FG");console.clear();let l={x:0,y:0},f=l,p={x:f.x-l.x,y:f.y-l.y},d=[];class m{constructor(e){this.el=e,this.menuItems=this.el.querySelectorAll(".menu__item"),this.animatableProperties={tx:{previous:0,current:0,amt:.1},ty:{previous:0,current:0,amt:.1},rotation:{previous:0,current:0,amt:.08},skewx:{previous:0,current:0,amt:.08},brightness:{previous:1,current:1,amt:.08},saturation:{previous:0,current:0,amt:.1}},this.menuItemInstances=[],[...this.menuItems].forEach(((e,t)=>this.menuItemInstances.push(new v(e,t,this.animatableProperties)))),gsap.to(this.el,.1,{opacity:1}),this.showMenuItems()}showMenuItems(){gsap.fromTo(this.menuItemInstances.map((e=>e.DOM.innerText)),{rotation:e=>e%2==0?15:-15},{duration:1.2,ease:"Expo.easeOut",transformOrigin:e=>e%2==0?"left bottom":"right bottom",y:0,rotation:0,delay:e=>.15+.06*e})}}class v{constructor(e,t,r){this.DOM={el:e},this.DOM.innerText=this.DOM.el.querySelector(".menu__item-innertext"),this.menuItemIndex=t,this.animatableProps=r,this.imageURL=this.DOM.el.getAttribute("data-img"),this.layout(),this.initEvents()}layout(){this.DOM.card=document.createElement("div"),this.DOM.card.className="image-card",this.DOM.cardInner=document.createElement("div"),this.DOM.cardInner.className="image-card__inner",this.DOM.cardImage=document.createElement("div"),this.DOM.cardImage.className="image-card__img",this.DOM.cardImage.style.backgroundImage=`url(${this.imageURL})`,this.DOM.cardInner.appendChild(this.DOM.cardImage),this.DOM.card.appendChild(this.DOM.cardInner),this.DOM.el.appendChild(this.DOM.card)}initEvents(){this.DOM.el.addEventListener("mouseenter",(()=>{this.showImage(),this.firstRAFCycle=!0,this.renderLoop()})),this.DOM.el.addEventListener("mouseleave",(()=>{this.stopRender(),this.hideImage()}))}calcBounds(){this.bounds={el:this.DOM.el.getBoundingClientRect(),card:this.DOM.card.getBoundingClientRect(),cardImage:this.DOM.cardImage.getBoundingClientRect()}}showImage(){gsap.killTweensOf(this.DOM.cardInner),gsap.killTweensOf(this.DOM.cardImage),gsap.timeline({onStart:()=>{this.DOM.el.style.zIndex=this.DOM.el.children.length}}).to(this.DOM.cardInner,{duration:.8,ease:"elastic.out(1, 0.75)",transformOrigin:"50% "+(p.y<0?"-20%":"120%"),startAt:{rotation:(p.x<0?"+":"-")+"25deg"},rotation:0}).to(this.DOM.cardImage,{duration:.2,ease:"Sine.easeOut",startAt:{opacity:0,scale:.6},opacity:1,scale:1},0)}hideImage(){gsap.killTweensOf(this.DOM.cardInner),gsap.killTweensOf(this.DOM.cardImage),gsap.timeline({onStart:()=>{this.DOM.el.style.zIndex=1}}).to(this.DOM.cardInner,{duration:.8,ease:"elastic.out(1, 0.75)",transformOrigin:"50% "+(p.y<0?"-20%":"120%"),rotation:(p.x<0?"+":"-")+"25deg"}).to(this.DOM.cardImage,{duration:.2,ease:"Sine.easeOut",opacity:0,scale:.6},0)}renderLoop(){this.requestId||(this.requestId=requestAnimationFrame((()=>this.render())))}stopRender(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)}render(){this.requestId=void 0,this.firstRAFCycle&&this.calcBounds(),this.updateAnimatableProps(),p={x:f.x-l.x,y:f.y-l.y},f=l,gsap.set(this.DOM.card,{x:this.animatableProps.tx.previous,y:this.animatableProps.ty.previous,rotation:this.animatableProps.rotation.previous,skewX:this.animatableProps.skewx.previous,filter:`brightness(${this.animatableProps.brightness.previous}) saturate(${this.animatableProps.saturation.previous})`}),this.firstRAFCycle=!1,this.renderLoop()}updateAnimatableProps(){const e=(t=Math.abs(f.x-l.x),n=100,t<=(r=0)?r:t>=n?n:t);var t,r,n;this.animatableProps.tx.current=Math.abs(l.x-this.bounds.el.left)-this.bounds.card.width/2,this.animatableProps.ty.current=Math.abs(l.y-this.bounds.el.top)-this.bounds.card.height/2,this.animatableProps.rotation.current=this.firstRAFCycle?0:y(e,0,100,0,p.x<0?30:-30),this.animatableProps.skewx.current=this.firstRAFCycle?0:y(e,0,100,1,p.x<0?-60:60),this.animatableProps.brightness.current=this.firstRAFCycle?1:y(e,0,100,1,10),this.animatableProps.saturation.current=this.firstRAFCycle?1:y(e,0,100,1,8);for(const e in this.animatableProps)this.animatableProps[e].previous=this.firstRAFCycle?this.animatableProps[e].current:b(this.animatableProps[e].previous,this.animatableProps[e].current,this.animatableProps[e].amt)}}class g{constructor(e,t){this.el=e,this.duration=t,this.el.style.opacity=0,this.bounds=this.el.getBoundingClientRect()}update(){gsap.to(this.el,{duration:this.duration,opacity:1,x:l.x-this.bounds.width/2,y:l.y-this.bounds.height/2})}}function y(e,t,r,n,i){return(e-t)*(i-n)/(r-t)+n}function b(e,t,r){return(1-r)*e+r*t}new class{constructor(){var t;(t=".menu__item",new Promise((r=>{const n=document.createElement("div");n.style.visibility="hidden",document.body.appendChild(n),[...document.querySelectorAll(t)].forEach((e=>{const t=document.createElement("img");t.style.width=0,t.src=e.dataset.img,t.className="preload",n.appendChild(t)})),e(u)(document.querySelectorAll(".preload"),(()=>{gsap.to(".loading__wrapper",{duration:.8,opacity:0,pointerEvents:"none",onComplete:()=>{n.parentNode.removeChild(n),document.body.classList.remove("loading"),r()}})}))}))).then((()=>{e(h)();const t=document.querySelector(".menu");new a.default({el:t,smooth:!0}),new m(t),d.push(new g(document.querySelector(".cursor__small"),0),new g(document.querySelector(".cursor__large"),.4)),window.addEventListener("mousemove",(e=>{l=function(e){let t=0,r=0;e||(e=window.event);e.pageX||e.pageY?(t=e.pageX,r=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+body.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+body.scrollTop+document.documentElement.scrollTop);return{x:t,y:r}}(e),d.forEach((e=>{e.update()}))}))}))}};
//# sourceMappingURL=project.fe93b76a.js.map
